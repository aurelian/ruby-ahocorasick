
h1. This is a work in progress.

h3. Introduction

This library is a ruby extension, a wrapper around the "Aho-Corasick":http://en.wikipedia.org/wiki/Aho-Corasick_algorithm implementation in C, found in "Strmat":http://www.cs.ucdavis.edu/~gusfield/strmat.html package.

The source code (ac.c and ac.h) was "adapted" from Strmat. In fact, I've changed only 3-4 lines of code from the original implementation so it will feat my needs: search needed to return the current position in the searched string.

h3. Okay, so what's the idea?

Having a dictionary of known sentences (note: not *words*!), this kick ass algorithm can find individual patterns in an incoming stream of data. Kinda Fast.

The algorithm has 2 stages: one where an internal tree in being build from the given dictionary leaving the search to the second step.

h3. Okay, so where can I use this?

Well, you can do some crazy things with it, like, you can lookup for DNA patterns or maybe analyze network sequences (read: strange and maybe proprietary network protocols), or domestic stuff like building contextual links on your blog posts to enrich your users experience.

h3. Okay, so how can I install it?

If you don't have github surces, type:

<pre>
gem sources -a http://gems.github.com
</pre>

then,

<pre>
gem install aurelian-ruby-ahocorasick
</pre>

h5. Note

It's known to work - compile - install on Ubuntu 8.04 and Mac OS 10.4.*. It should work out of the box if you have gcc around.

h3. Okay, so how do I use it?

<pre>
  require 'ahocorasick'

  keyword_tree= AhoCorasick::KeywordTree.new # creates a new tree
  keyword_tree.add_string( "foo-- Z@!bar" ) # add's a keyword to the tree
  keyword_tree.add_string( "cervantes" )    # even more

  results= keyword_tree.find_all( "1011000129 foo-- Z@!bar761 ! 001211 6xU" ).each do | result |
    result[:value]     # => "foo-- Z@!bar"
    result[:starts_at] # => 11
    result[:ends_at]   # => 23
    result[:id]        # => 1
  end

</pre>

h3. Additional Reading 

Other suffix - tree implementations:

 * "Strmat":http://www.cs.ucdavis.edu/~gusfield/strmat.html
 * Pytst / Ruby-Pytst
 * "Aho-Corasick extension":http://hkn.eecs.berkeley.edu/~dyoo/python/ahocorasick/
 * "Keyword Prospector":http://latimes.rubyforge.org/keyword_prospector/rdoc/
 * "libstree":http://www.cl.cam.ac.uk/~cpk25/libstree/

h3. License

(c) 2008 - Aurelian Oancea, < oancea at gmail dot com > 

released under MIT-LICENCE
